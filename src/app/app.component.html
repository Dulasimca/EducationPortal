<div #main class="no-pad container" *ngIf="loading">
    <mat-toolbar class="mat-elevation-z8">
        <div class="p-col-1 p-md-1 p-lg-1 no-pad-left" [ngClass]="{'move-right': isOpen, 'move-left': !isOpen}">
            <div class="no-pad" style="background: rgb(11, 43, 102) !important; display: flex;">
                <i *ngIf="!isOpen" class="pi pi-bars" style="font-size: 1.6rem; color: whitesmoke; align-self: center;"
                    (click)="isOpen=!isOpen"></i>
                <i *ngIf="isOpen" class="pi pi-times" style="font-size: 1.6rem; color: whitesmoke; align-self: center;"
                    (click)="isOpen=!isOpen"></i>
                <img src="assets/layout/images/TN_Govt_Logo.png" style="margin-left: 2px;" />
            </div>

        </div>
        <div id="main-top-bar" class="p-col-5 p-md-6 p-lg-7 no-pad-top"
            [ngClass]="{'menubar-bar-text-unset': !isOpen, 'menubar-bar-text-set': isOpen}">
            Government of Tamilnadu - Educational Services Platform
            <div style="text-align: center; font-size: 20px;color: whitesmoke">{{schoolName}}</div>
        </div>
        <div class="p-col-1"></div>
        <div id="main-top-bar-user" class="p-col-2 p-md-3 p-lg-2 no-pad-top no-pad-bottom">
            <div class="p-grid" style="color: whitesmoke"
                [ngClass]="{'menubar-bar-info-set': isOpen, 'menubar-bar-info-unset': !isOpen}"
                (click)="op.toggle($event)">
                <img [src]="userImage" style="margin-top: 8px;" />
                &nbsp; &nbsp; <div style="font-size: 13px; align-self: center; margin-top: 10px;">
                    <span style="text-transform: uppercase"><b>{{userName}}</b></span>
                    <i class="pi pi-angle-down"></i>
                </div>
            </div>
        </div>
    </mat-toolbar>
    <div id="main-layout" [ngClass]="{'layout-wrapper-set': isOpen, 'layout-wrapper-unset': !isOpen}">
        <div class="p-grid side-nav">
            <div id="side-nav-bar" *ngIf="isOpen" class="p-col-2 no-pad-right side-nav-panel">
                 <p-panelMenu [model]="items"></p-panelMenu>
            </div>
            <div class="side-nav-container">
                <router-outlet></router-outlet>
            </div>
        </div>
    </div>
</div>
<div class="no-pad container" *ngIf="!loading">
    <app-login></app-login>
</div>
<p-overlayPanel #op [showTransitionOptions]="'500ms'">
    <ng-template pTemplate>
        <div>Logged in - {{loggedinTime | date:'shortTime'}} </div>
        <div class="p-col-12"></div>
        <div class="p-col-12" style="margin-top: 10%;">
            <div class="text-center">
                <div (click)="onLogout()"> <i class="pi pi-sign-out" style="color: #52de38;"></i>Logout</div>
            </div>
        </div>
    </ng-template>
</p-overlayPanel>