<div class="p-col-12 p-md-12 p-lg-12" >
    <p-toast position="top-center" key="t-msg"></p-toast>
    <p-panel header="Online Assessment">
        <div class="p-col-12 p-md-12 p-lg-12 no-pad-top" style="min-height: 400px !important;">
            <p-card>
                <div class="p-col-12 p-md-12 p-lg-12 no-pad-top">
                   <div class="no-pad-top"><label>Date:</label> </div>  
                    <p-calendar [(ngModel)]="date" [showIcon]="true" (onSelect)="onLoadAssessment()" [minDate]="minDate"></p-calendar>
                    <button pButton type="button" label="Refresh" style="margin-left: 40%;" icon="pi pi-refresh" (click)="onLoadAssessment()" ></button>

                </div>
                <p-divider></p-divider>
                <div class="p-col-12 p-md-12 p-lg-12" style="color: rgb(248, 47, 88);">
                    * Start button will be enabled on time mentioned below the table, 
                    Please click on the refresh button if start button doesn't appear on screen.<br>
                    * Once you click 'Start' button, you will navigate to exam page.<br>
                    * Please do not attempt to refresh or go to other window/page,
                     you will get logged out and test will be submitted automatically.<br>
                    * Please read the questions throughly and answer appropriately.<br>
                    * Please submit the test before the alloted time or test will get submitted automatically.<br>
                </div>
                <div class="p-col-12 p-md-12 p-lg-12">
                    <p-table [columns]="assessmentCols" [value]="assessmentData" [paginator]="true" [rows]="10" [loading]="loading" styleClass="p-datatable-gridlines">
                        <ng-template pTemplate="header" let-rowData let-columns>
                            <tr>
                                <th style="text-align: center; width: 90px;">S.No</th>
                                <th *ngFor="let col of columns" style="text-align: center;">
                                    {{col.header}}
                                </th>
                                <th style="text-align: center; width: 90px;">Start</th>
                                <!-- <th>Upload</th> -->
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-rowIndex="rowIndex" let-rowData let-columns="columns">
                            <tr>
                                <td style="text-align: center; width: 90px;">{{rowIndex+1}}</td>
                                <td *ngFor="let col of columns">
                                    {{rowData[col.field]}}
                                </td>
                                <td *ngIf="(rowData.isSubmitted == 'false')" (click)="onStart()" style="width: 90px;text-align: center; "><i class="pi pi-play" style="font-size: 1.2rem; color: #45e327!important;" pTooltip="Start Test"></i></td>
                                <td *ngIf="(rowData.isSubmitted == 'true')" style="text-align: center;"><i class="pi pi-play" style="font-size: 1.2rem;" pTooltip="Test Ended"></i></td>
                                <!-- <td><i class="pi pi-upload" style="padding-left: 10px; color: #52de38; font-size: 1.5rem;"></i></td> -->
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </p-card>
        </div>
    </p-panel>
</div>